summarise(avg= mean(avg))
sum_df %>%
select(dates, year, month, SO2, NO2, O3, CO, PM10, PM2.5) %>%
gather(key = type, value = value, 4:9) %>%
filter(year == 2017, type == "PM10") %>%
group_by(dates, type) %>%
summarise(month = first(month),avg = round(mean(value),4))
sum_df %>%
select(dates, year, month, SO2, NO2, O3, CO, PM10, PM2.5) %>%
gather(key = type, value = value, 4:9) %>%
filter(year == 2017, type == "PM10") %>%
group_by(dates, type) %>%
summarise(month = first(month),avg = round(mean(value),4)) %>%
group_by(month, type) %>%
summarise(avg= mean(avg))
sum_df %>%
select(dates, year, month, SO2, NO2, O3, CO, PM10, PM2.5) %>%
gather(key = type, value = value, 4:9) %>%
filter(year == 2017, type == "PM10") %>%
group_by(dates, type) %>%
summarise(month = first(month),avg = round(mean(value),4)) %>%
group_by(month, type) %>%
summarise(dates, avg= mean(avg))
sum_df %>%
select(dates, year, month, SO2, NO2, O3, CO, PM10, PM2.5) %>%
gather(key = type, value = value, 4:9) %>%
filter(year == 2017, type == "PM10") %>%
group_by(dates, type) %>%
summarise(avg = round(mean(value),4))
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
sum_df %>%
filter(year %in% input$years,
month %in% input$months,
date %in% input$dates,
time %in% input$times) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains(input$finedust))
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains(pm10))
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10"))
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
slice_min(air_map()[[5]])
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
slice_min(.[[5]])
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(desc(avg_pm10))
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(desc(avg_pm10)) %>%
summarise(first(Station.name.district))
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(avg_pm10) %>%
summarise(first(Station.name.district))
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(avg_pm10)
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(avg_pm10) %>%
summarise(first(Station.name.district))
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(avg_pm10) %>%
summarise(first(Station.name.district), first(avg_pm10), first(min_pm10))
a[2]
a = sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10")) %>%
arrange(avg_pm10) %>%
summarise(first(Station.name.district), first(avg_pm10), first(min_pm10))
a
a[2]
a[3]
a
a = sum_df %>%
filter(year ==2017,
month == 1,
date == 1,
time == c(0,1)) %>%
group_by(Station.name.district) %>%
summarise(lat = first(Latitude),
long = first(Longitude),
min_pm10 = min(PM10),
avg_pm10 = mean(PM10),
max_pm10 = max(PM10),
min_pm2.5 = min(PM2.5),
avg_pm2.5 = mean(PM2.5),
max_pm2.5 = max(PM2.5)) %>%
select(Station.name.district, lat, long, contains("pm10"))
a %>%
arrange(a[[5]])
a %>%
arrange(a[5])
a %>%
arrange(desc(a[5]))
a %>%
arrange(desc(a[5])) %>%
summarise(first(Station.name.district), first(avg_pm10), first(min_pm10))
best %>%
summarise(first(best[4]))
aa = a %>%
arrange(desc(a[5]))
aa %>%
summarise(first(a[4])first(min_pm10))
aa %>%
summarise(first(a[4]),first(min_pm10))
aa = a %>%
arrange(desc(a[5]))
aa
aa %>%
summarise(first(a[4]),first(min_pm10))
aa %>%
summarise(first(aa[4]),first(min_pm10))
aa %>%
summarise(first(aa[4]))
aa %>%
summarise(first(aa[[4]]))
aa
aa %>%
summarise(first(aa[4]))
summarise(first(aa[[4]))
aa %>%
summarise(first(aa[[4]]))
aa %>%
summarise(first(aa[[4]]))
aa %>%
summarise(first(aa[[5]]))
aa %>%
summarise(first(aa[[6]]))
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
View(sum_df)
str(sum_df)
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
traffic <- read.csv("traffic_data.csv")
traffic
View(traffic)
View(traffic)
View(t)
View(traffic)
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(traffic, by = c("year","month"))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(traffic, by = c("year","month")) %>%
ggplot(aes(x = traffic_level, y = avg))+geom_point()
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(CO)) %>%
left_join(traffic, by = c("year","month")) %>%
ggplot(aes(x = traffic_level, y = avg))+geom_point()
traffic <- read.csv("traffic_data.csv")
traffic
t = traffic %>%
mutate(level = (coming_in + going_out)/n_monitor*71)
t
t = traffic %>%
mutate(level = (coming_in + going_out)/n_monitor*71000)
t
t = traffic %>%
mutate(n_cars = (coming_in + going_out)/n_monitor*71000)
t
write.csv(t, file = "traffic_level.csv", row.names = F)
traffic <- read.csv("traffic_level.csv")
t
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(CO)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars, y = avg))+geom_point()
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars, y = avg))+geom_point()
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000, y = avg))+geom_point()
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000000, y = avg))+geom_point()
t %>% group_by(year) %>% summarise(n = sum(n_cars))
t = traffic %>%
mutate(n_cars = ((coming_in + going_out)/n_monitor)*71000)
t
t = traffic %>%
mutate(n_cars = ((coming_in + going_out)/n_monitor)*71)
t
t %>% group_by(year) %>% summarise(n = sum(n_cars))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000000, y = avg))+geom_point()
t %>% group_by(year) %>% summarise(n = sum(n_cars)/12)
t %>% group_by(year) %>% summarise(n = mean(n_cars))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000000, y = avg))+geom_point(aes(col = year))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM10)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000000, y = avg))+geom_point(aes(col = as.factor(year)))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM2.5)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000000, y = avg))+geom_point(aes(col = as.factor(year)))
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
t = traffic %>%
mutate(n_cars = ((coming_in + going_out)/n_monitor))
sum_df %>%
group_by(year, month) %>%
summarise(avg = mean(PM2.5)) %>%
left_join(t, by = c("year","month")) %>%
ggplot(aes(x = n_cars/1000000, y = avg))+geom_point(aes(col = as.factor(year)))
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
shiny::runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
shiny::runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
runApp('Documents/NYCDSA/Bootcamp/DAR/Shiny_project')
shiny::runApp()
